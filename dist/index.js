import { Err } from "./lib.js";
import { interpret } from "./wenyan/vm.js";
const script = `有咒曰Object.create(null)云云或曰logger其alert者window之alert也夫logger闻log对曰请console君debug之有text云云闻notify对曰或曰text吾当log之有文曰[文言lang-测试]云云有text请+之请window君alert之云云有document之body内有div曰container内有无名div其padding曰10px云云display曰flow-root云云background-color曰pink云云font-weight曰bold云云内有无名label其textContent曰重复次数云云有input曰count-input其display曰block云云有button曰mButton其textContent曰RANDOMIZE云云有无名label其textContent曰输入云云有input曰original-input其display曰block云云夫container内有pre曰display其background-color曰lightgray云云padding曰20px云云white-space曰normal云云word-break曰break-all云云夫mButton其display曰block云云margin曰10px云云闻click对曰有__INITIALIZED__不然曰吾当init云云然后曰吾当randomize之云云云云闻randomize对曰有咒曰Math.random()云云有count请*之请Math君floor之real-count当如是有文曰当前倍数为云云有real-count请+之document之title当如是有count有文曰x随机数(0-1)\u0020=\u0020云云有real-count请+之请+之请logger君notify之有real-count也original-input之value当repeat之display之textContent当如是云云闻init对曰有文曰确认初始化当用云云请window君confirm之然后曰有count-input之value也请parseInt之count当如是有咒曰isNaN(count)云云然后曰有0也count当如是云云有咒曰true云云__INITIALIZED__当如是夫count-input其randomize者吾之randomize也闻blur对曰吾当randomize之有real-count请original-input之value君repeat之display之textContent当如是云云闻input对曰有吾之value也请parseInt之count当如是有咒曰isNaN(count)云云然后曰有0也吾之value当如是count当如是云云云云夫original-input其background-color曰#ffaaaa云云其color曰white云云闻input对曰有real-count也吾之value当repeat之display之textContent当如是云云云云云云夫document之body闻click对曰有文曰请输入你的名字云云请window君prompt之或曰name有文曰你好：云云有name请+之请window君alert之云云`;
console.log(interpret(script));
console.log(Err.last);
